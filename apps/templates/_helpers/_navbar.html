{% load static %}

<nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top shadow-sm" id="navbarSupportedContent">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav me-auto mb-2">
                <li class="nav-item active">
                    <a class="navbar-brand btn-secondary" href="{% url "base_app:about" %}">
                        <img src="{% static "images/Maple_Leaf.svg" %}" alt="" width="35" height="50"
                             style="filter: invert(100%) opacity(40%);">
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url "base_app:main_page" %}">Main page<span class="sr-only"></span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url "users_app:users" %}">Users Generator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url "sessions_app:sessions" %}">Sessions</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown08"
                       data-toggle="dropdown" data-bs-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false" role="button">Contacts</a>
                    <div class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdown08">
                        <a class="dropdown-item" href="{% url "contacts_app:show_contacts" %}">Show Contacts</a>
                        <a class="dropdown-item" href="{% url "contacts_app:create_contact" %}">Add a contact</a>
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav me-3">
                {% if user.is_authenticated %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown08"
                           data-toggle="dropdown" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false" role="button">{{ user.username }}</a>
                        <div class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdown08">
                            <a class="dropdown-item" href="{% url "accounts:logout" %}?next=/">Logout</a>
                    </li>
                    <div class="user-avatar-container ms-2">
                        {% if user.avatar %}
                            <img src="{{ user.avatar.url }}" alt="avatar" class="user-avatar">
                        {% else %}
                        {% endif %}
                    </div>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url "accounts:login" %}">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url "accounts:signup" %}">SignUp</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>